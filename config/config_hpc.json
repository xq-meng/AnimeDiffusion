{
    "tasks": {
        "train": {
            "run": false,
            "epochs": 200
        },
        "test": {
            "run": false,
            "output_dir": "/output/result"
        },
        "fine_tune": {
            "run": false,
            "epochs": 20,
            "eta": 1
        }
    },
    "components": {
        "distortion_guidance": true
    },
    "validations": [
        {
            "image_path": "/data/xqmeng/Anime/Anime/test/condition/1.jpg",
            "distortion_guidance": "/data/xqmeng/Anime/Anime/test/reference/1.jpg",
            "output_dir": "/output/validation"
        },
        {
            "image_path": "/data/xqmeng/Anime/Anime/test/condition/90.jpg",
            "distortion_guidance": "/data/xqmeng/Anime/Anime/test/reference/140.jpg",
            "output_dir": "/output/validation"
        }
    ],
    "model": {
        "optimizer": {
            "name": "Adam",
            "learning_rate": 1e-5,
            "beta1": 0.9,
            "beta2": 0.999,
            "decay": -1
        },
        "ema": {
            "decay": 0.999
        },
        "diffusion": {
            "time_step": 1000,
            "betas": {
                "linear_start": 1e-6,
                "linear_end": 1e-2
            },
            "unet": {
                "channel_in": 7,
                "channel_out": 3,
                "channel_mult": [1, 2, 4, 8],
                "attention_head": 4
            }
        },
        "status": {
            "save_epochs": 1,
            "save_dir": "/output/status",
            "load_path": "/model/xqmeng/CLIPalette-ep300/trained.pkl"
        }
    },
    "dataset": {
        "train": {
            "name": "anime",
            "path": {
                "reference_path": "/data/xqmeng/Anime/Anime/train/reference",
                "condition_path": "/data/xqmeng/Anime/Anime/train/condition"
            },
            "dataloader": {
                "batch_size": 32,
                "num_workers": 2,
                "shuffle": true,
                "pin_memory": true,
                "drop_last": true
            }
        },
        "test": {
            "name": "anime",
            "path": {
                "reference_path": "/data/xqmeng/Anime/Anime/test/reference",
                "condition_path": "/data/xqmeng/Anime/Anime/test/condition"
            },
            "dataloader": {
                "batch_size": 1,
                "num_workers": 0,
                "shuffle": false,
                "pin_memory": true,
                "drop_last": false
            }
        }
    },
    "logging": {
        "console": true,
        "logfile": "/output/log/clipalette.log"
    }
}
